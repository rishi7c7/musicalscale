<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<title>Simple Musical Scale Website</title>
<style>
  body{
    font-family: 'Poppins', sans-serif;
    background: linear-gradient(135deg, #6a11cb, #2575fc);
    margin:0;
    padding:40px 20px;
    text-align:center;
    color:white;
}
  h1{
    color:white;
    font-size:36px;
    letter-spacing:1px;
    margin-bottom:20px;
}
  .scale-box{
    margin:20px auto;
    padding:30px;
    background:rgba(255,255,255,0.15);
    backdrop-filter: blur(10px);
    max-width:450px;
    border-radius:20px;
    box-shadow:0 10px 30px rgba(0,0,0,0.3);
    color:white;
}
  select, button{
    background:#ffce00;
    color:black;
    font-weight:bold;
    cursor:pointer;
    transition:0.3s;
}
button:hover{
    background:#ffe680;
} border-radius:10px;
    border:none;
    outline:none;
}
  .notes{
    margin-top:20px;
    font-size:20px;
    font-weight:bold;
  }
</style>
</head>
<body>
  <h1>Musical Scale Notes</h1>

  <div class="scale-box">
    <label>Choose Root Note:</label><br>
    <select id="root">
      <option>C</option>
      <option>D</option>
      <option>E</option>
      <option>F</option>
      <option>G</option>
      <option>A</option>
      <option>B</option>
    </select>

    <br>
    <label>Choose Scale:</label><br>
    <select id="scale">
      <option value="major">Major Scale</option>
      <option value="minor">Minor Scale</option>
    </select>

    <br>
    <button onclick="showNotes()">Show Notes</button>

    <div class="notes" id="notesBox">Notes will appear here</div>
  </div>

<script>
  const major = [0,2,4,5,7,9,11];
  const minor = [0,2,3,5,7,8,10];
  const notes = ['C','C#','D','D#','E','F','F#','G','G#','A','A#','B'];

  // Web Audio API
  const audioCtx = new (window.AudioContext || window.webkitAudioContext)();

  function playTone(freq){
    const osc = audioCtx.createOscillator();
    const gain = audioCtx.createGain();
    osc.type = 'sine';
    osc.frequency.value = freq;
    osc.connect(gain);
    gain.connect(audioCtx.destination);
    gain.gain.setValueAtTime(0.0001, audioCtx.currentTime);
    gain.gain.exponentialRampToValueAtTime(0.3, audioCtx.currentTime + 0.05);
    gain.gain.exponentialRampToValueAtTime(0.0001, audioCtx.currentTime + 0.4);
    osc.start();
    osc.stop(audioCtx.currentTime + 0.45);
  }

  function noteToFreq(note){
    const index = notes.indexOf(note);
    const midiNumber = 60 + index; // C4 = 60
    return 440 * Math.pow(2, (midiNumber - 69) / 12);
  }

  function showNotes(){
    const root = document.getElementById("root").value;
    const scaleType = document.getElementById("scale").value;

    let intervals = scaleType === "major" ? major : minor;
    let startIndex = notes.indexOf(root);
    let result = intervals.map(i => notes[(startIndex + i) % 12]);

    document.getElementById("notesBox").innerText = result.join("  ");

    // Play notes one by one
    let t = 0;
    result.forEach(n => {
      setTimeout(() => playTone(noteToFreq(n)), t * 500);
      t++;
    });
  }
</script>
</body>
</html>
